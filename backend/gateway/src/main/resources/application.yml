server:
  port: 8080

spring:
  application:
    name: gateway
  main:
    web-application-type: reactive
  profiles:
    active: ${SPRING_PROFILES_ACTIVE:dev}

  cloud:
    gateway:
      httpclient:
        connect-timeout: 3000
        response-timeout: 10s
      default-filters:
        - DedupeResponseHeader=Access-Control-Allow-Origin Access-Control-Allow-Credentials
        - AddResponseHeader=Access-Control-Expose-Headers, Set-Cookie
      forwarded-headers-strategy: framework
      set-status:
        enabled: false

  data:
    redis:
      host: ${REDIS_HOST}
      port: ${REDIS_PORT}
      password: ${REDIS_PASSWORD}
      timeout: 1000
      database: 0
      
  jackson:
    serialization:
      WRITE_DATES_AS_TIMESTAMPS: false

jwt:
  secret: ${JWT_SECRET}

management:
  endpoints:
    web:
      exposure:
        include: "health,info"
  endpoint:
    health:
      probes:
        enabled: true
      show-details: when_authorized

logging:
  level:
    org.springframework.cloud.gateway: INFO
    reactor.netty.http.client: INFO

gateway:
  public-routes:
    - /v3/api-docs/**
    - /swagger-ui/**
    - /swagger-ui.html
    - /actuator/health
    - /register
    - /resend-verification
    - /verify
    - /login
    - /validate
    - /forgot-password
    - /reset-password
    - /refresh

auth:
  service-url: ${AUTH_URL}